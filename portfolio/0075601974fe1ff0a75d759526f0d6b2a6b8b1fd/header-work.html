<!-- Reusable header -->
<div class="fr w-100 header">
  <div class="horizontal-flex">

    <div class="avatar-group">
      <div class="flex-center">
        <img src="https://eetom.github.io/img/hosted/me3.png" class="br-100 ba h3 w3 dib mb4 mt4 mr2" alt="avatar">
        <h1 class="f2 f2-l lh-title mt0 mb0">
          <a href="../../index.html" class="main-title">OkayEric!</a>
        </h1>
      </div>

      <div class="flex-center">
        <div class="horizontal-nav">
          <a href="index-work.html">ðŸ”“/portfolio</a>
          <a href="../../projects/projects.html">/projects</a>
          <a href="../../words/words.html">/words</a>
          <a href="../../img/images.html">/images</a>
          <a href="../../about/about.html">/about</a>
          <a class="closeout" href="#">Close Menu</a>
        </div>

        <div>
          <input type="checkbox" class="checkbox" id="checkbox">
          <label for="checkbox" class="checkbox-label">
            <i class="material-icons moon" style="font-size: 16px;">dark_mode</i>
            <i class="material-icons sun" style="font-size: 16px;">light_mode</i>
            <span class="ball"></span>
          </label>
        </div>
      </div>
    </div>

    <div class="dropdown-nav">
      <button>
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </div>
  </div>
</div>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleBtn = document.getElementById("checkbox");
    const dropdown = document.querySelector(".dropdown-nav");
    const horizontal = document.querySelector(".horizontal-nav");

    // Retrieve dark mode preference from localStorage
    let darkMode = localStorage.getItem("dark-mode");

    // Function to enable dark mode
    const enableDarkMode = () => {
      document.body.classList.add("dark");
      localStorage.setItem("dark-mode", "dark");
      toggleBtn.checked = true; // Ensure checkbox reflects dark mode state
    };

    // Function to disable dark mode
    const disableDarkMode = () => {
      document.body.classList.remove("dark");
      localStorage.setItem("dark-mode", "light");
      toggleBtn.checked = false; // Ensure checkbox reflects light mode state
    };

    // Apply dark mode directly on page load if previously set to dark
    if (darkMode === "dark") {
      enableDarkMode();
    } else {
      disableDarkMode();
    }

    // Event listener for toggling dark mode
    toggleBtn.addEventListener("click", () => {
      if (toggleBtn.checked) {
        enableDarkMode();
      } else {
        disableDarkMode();
      }
    });

    // Event listener for mobile menu dropdown
    dropdown.addEventListener("click", () => {
      dropdown.classList.toggle("active");
      horizontal.classList.toggle("active");
    });

    // Event listener to close mobile menu
    document.querySelector(".closeout").addEventListener("click", () => {
      dropdown.classList.remove("active");
      horizontal.classList.remove("active");
    });
  });
</script>
