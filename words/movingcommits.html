<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>OkayEric! A place to put the things that Eric makes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/tachyons/css/tachyons.min.css">
    <link rel="stylesheet" type="text/css" href="../css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script src="../script/headerfooterload.js"></script>
  </head>

  <header class="sans-serif">
    <div class="cover bg-left bg-center-l mainview border-gradient-purple">
      <div class="bg-black-0 pb5 pb6-m pb7-l">
        <nav class="dt w-100 mw8 center"> 
        </nav> 
      </div>
    </div> 
  </header>

  <body class="font">
    <main class="cf pa3 pa4-m pa5-l mw9 center"> <!-- Main container -->
      <div id="header">
        <!-- reusable header goes here-->
      </div>

      <div class="fr w-100 w-90-l"> <!-- this is a line break -->
        <hr class="mb5"/>
      </div>

      <div class="f5 lh-copy fl w-100 mb4"> <!-- Coding links section -->

         <div class="fl-ns w-100 w-10-l pr3-m pr5-l">
          <p class="b ttu">
          </p> 
        </div>

         <div class="fl-ns w-100 w-20-l pr4-l"> <!-- Side Title -->
          <h2>Moving Commits into a new branch</h2>
          <p class="sub-title">
            October 24, 2017 <br>
            San Francisco, CA
          </p>
        </div>

        <div class="fl-ns w-100 w-60-l pr3-m pr5-l">
          <p>Sometimes I make the mistake of not starting a new branch before I start editing code, especially if i'm the only one
            working on a repository and there is only the master branch.</p>
          
          <p>To fix this I looked it up on stackoverflow and this is the best answer I have found.</p>

          <hr class="mb5 mt4 ml0 small-line" />
          
          <h3 class="writing-subtitle">Step 1: How many commits in are we?</h3>
          <p class="code">User$ git log</p>
          <p>This allows us to check how many commits we want to move. You can read the comment on the commit to see how
            far back you want to roll</p>
          <p class="code">
            commit 0b2b5b47b9c540....<br>
            Author: Eric Tsai<br>
            Date: Tue Oct 24 20:00:44 2017 -0700<br>
            I want to roll this commit back<br>
            <br>
            commit 0b2b235x333540....<br>
            Author: Eric Tsai <br>
            Date: Tue Oct 24 19:59:44 2017 -0700<br>
            This is fine, leave this in master
          </p>
          
          <hr class="mb5 mt4 ml0 small-line" />
          
          <h3 class="writing-subtitle">Step 2: Discarding the commits temporarily</h3>
          <p class="code">User$ git reset --keep HEAD~3</p>
          <p>This discards the "3" most recent commits temporarily because it doesn't "throw away" the changes, change
            this number to the number of commits you want to roll back</p>
          
          <hr class="mb5 mt4 ml0 small-line" />
          
          <h3 class="writing-subtitle">Step 3: Creating a new branch</h3>
          <p class="code">User$ git checkout -t -b newbranchname</p>
          <p>This creates and switches to a new branch based off of the new master branch that has been rolled back</p>
          
          <hr class="mb5 mt4 ml0 small-line" />
          
          <h3 class="writing-subtitle">Step 4: Cherry pick it</h3>
          <p class="code">User$ git cherry-pick ..HEAD@{2}</p>
          <p>This is the magical step that moves the temporarily discarded commits into the new branch we moved to,
            It's important to only use {2} because this denotes the action that happen 2 steps ago, not the number
            of commites we're bringing back</p>
          
          <p>And if all goes well you should have a new branch that is x commits ahead of the master</p>
          <p class="code">
            User$ git status <br>
            On branch newbranch <br>
            Your branch is ahead of 'master' by 1 commit. <br>
            (use "git push" to publish your local commits)
          </p>

          <hr class="mb5 mt4 ml0 small-line" />
          
          <p>And that's all there is to it. A simple 4 step process! <br> To read more about this
            go to the <a
              href="https://stackoverflow.com/questions/1628563/move-the-most-recent-commits-to-a-new-branch-with-git/36463546#36463546">stackoverflow
              page</a>.</p>

          <p class="mb5"></p>
        </div>
      </div>

    </main>
  </body>

  <footer class="border-gradient-purple">
    <div id="footer">
      <!-- reusable footer goes here-->
    </div>
  </footer>

</html>
